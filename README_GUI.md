# ming-drlms GUI (Flet)

ä¸€ä¸ªç¾Žè§‚çš„åƒç´ ç”°å›­é£Žæ ¼GUIå®¢æˆ·ç«¯ï¼Œç”¨äºŽming-drlmsæ–‡ä»¶ä¼ è¾“ç³»ç»Ÿã€‚

## âœ¨ ç‰¹è‰²åŠŸèƒ½

### ðŸŒ± å‘èŠ½è¿›åº¦æ¡ (Seed Progress Bar)
- **åƒç´ è‰ºæœ¯é£Žæ ¼**: 6ä¸ªç²¾ç¾Žçš„ç”Ÿé•¿é˜¶æ®µï¼Œä»Žæ°´æ»´åˆ°æˆç†Ÿçš„æ ‘æœ¨
- **åŠ¨æ€åˆ‡æ¢**: æ ¹æ®ä¸Šä¼ /ä¸‹è½½è¿›åº¦è‡ªåŠ¨åˆ‡æ¢å›¾ç‰‡
- **é—ªå…‰ç‰¹æ•ˆ**: å®Œæˆæ—¶æ˜¾ç¤ºç²¾çµå›¾åŠ¨ç”»ï¼Œå¢žå¼ºç”¨æˆ·æ»¡è¶³æ„Ÿ

### ðŸ–¥ï¸ å“åº”å¼ç•Œé¢ (Responsive UI)
- **è‡ªé€‚åº”å¸ƒå±€**: æ”¯æŒçª—å£å¤§å°è°ƒæ•´
- **å±…ä¸­å¼¹çª—**: è¿›åº¦æ˜¾ç¤ºå®Œç¾Žå±…ä¸­
- **åƒç´ ç”°å›­ä¸»é¢˜**: ç»Ÿä¸€çš„ç»¿è‰²ä¸»é¢˜å’Œå¡ç‰‡å¼è®¾è®¡

### ðŸ“ å®Œæ•´æ–‡ä»¶æ“ä½œ
- **æœåŠ¡å™¨è¿žæŽ¥**: ç”¨æˆ·å/å¯†ç è®¤è¯
- **æ–‡ä»¶åˆ—è¡¨**: å®žæ—¶æ˜¾ç¤ºæœåŠ¡å™¨æ–‡ä»¶
- **ä¸Šä¼ ä¸‹è½½**: å®Œæ•´çš„æ–‡ä»¶ä¼ è¾“åŠŸèƒ½
- **è¿›åº¦åé¦ˆ**: å®žæ—¶è¿›åº¦æ›´æ–°å’ŒçŠ¶æ€æ˜¾ç¤º

## ðŸ“ é¡¹ç›®ç»“æž„

```
src/ming_drlms_gui/
â”œâ”€â”€ app.py                 # ä¸»åº”ç”¨å…¥å£
â”œâ”€â”€ views/
â”‚   â”œâ”€â”€ connect.py         # è¿žæŽ¥ç•Œé¢
â”‚   â””â”€â”€ main.py            # ä¸»ç•Œé¢ï¼ˆæ–‡ä»¶æ“ä½œï¼‰
â”œâ”€â”€ ui/
â”‚   â”œâ”€â”€ theme.py           # ä¸»é¢˜å’Œæ ·å¼
â”‚   â””â”€â”€ widgets.py         # è‡ªå®šä¹‰ç»„ä»¶ï¼ˆå‘èŠ½è¿›åº¦æ¡ï¼‰
â”œâ”€â”€ i18n/                  # å›½é™…åŒ–
â”‚   â”œâ”€â”€ en.json
â”‚   â””â”€â”€ zh.json
â”œâ”€â”€ assets/
â”‚   â””â”€â”€ images/
â”‚       â””â”€â”€ progress/      # è¿›åº¦æ¡å›¾ç‰‡ç´ æ
â”‚           â”œâ”€â”€ stage_0_water.png
â”‚           â”œâ”€â”€ stage_1_seed.png
â”‚           â”œâ”€â”€ stage_2_sprout.png
â”‚           â”œâ”€â”€ stage_3_sapling.png
â”‚           â”œâ”€â”€ stage_4_young_tree.png
â”‚           â”œâ”€â”€ stage_5_mature_tree.png
â”‚           â””â”€â”€ effect_sparkle_spritesheet.png
â”œâ”€â”€ net/
â”‚   â””â”€â”€ client.py          # ç½‘ç»œå®¢æˆ·ç«¯
â””â”€â”€ state.py               # å…¨å±€çŠ¶æ€ç®¡ç†
```

## ðŸš€ å¼€å‘è¿è¡Œ

### å‰ç½®æ¡ä»¶
```bash
# ç¡®ä¿CæœåŠ¡å™¨å·²ç¼–è¯‘
make all
./log_collector_server  # åœ¨å¦ä¸€ä¸ªç»ˆç«¯è¿è¡Œ
```

### å¼€å‘æ¨¡å¼
```bash
# å®‰è£…ä¾èµ–
python -m pip install flet>=0.28.3,<0.29.0

# è¿è¡ŒGUIï¼ˆä¼šè‡ªåŠ¨æ‰“å¼€æµè§ˆå™¨ï¼‰
flet run src/ming_drlms_gui/app.py

# æˆ–ç›´æŽ¥è¿è¡Œ
python -m ming_drlms_gui.app
```

## ðŸ“¦ æ‰“åŒ…æž„å»º

### Flet Packï¼ˆæŽ¨èï¼‰
```bash
flet pack src/ming_drlms_gui/app.py \
  --name "DRLMS GUI" \
  --product-name "ming-drlms" \
  --description "A beautiful GUI client for ming-drlms" \
  --copyright "DRLMS Team" \
  --add-data "src/ming_drlms_gui/assets=assets" \
  --add-data "src/ming_drlms_gui/i18n=i18n"
```

### å¼€å‘æž„å»º
```bash
make gui_poc  # æž„å»ºCä¾èµ–å¹¶å¤åˆ¶åˆ°assets
```

## ðŸ–¥ï¸ ç³»ç»Ÿä¾èµ–

è¯¦è§ `gui_poc/docs/DEPENDENCIES.md`ã€‚

### Linux/WSL
```bash
sudo apt-get install zenity libmpv1 gstreamer1.0-plugins-good
```

## ðŸŒ å›½é™…åŒ–æ£€æŸ¥

```bash
python scripts/check_i18n.py
```

## ðŸ¤– CI/CD è‡ªæ£€

```bash
bash scripts/gui_selfcheck_headless.sh
```

## ðŸ“¸ ç•Œé¢æˆªå›¾

### å‘èŠ½è¿›åº¦æ¡åŠ¨ç”»åºåˆ—
![Progress Stages](src/ming_drlms_gui/assets/images/progress/progress_stages_demo.png)

*ä»Žå·¦åˆ°å³: æ°´æ»´ â†’ ç§å­ â†’ å‘èŠ½ â†’ ç”Ÿé•¿ â†’ å¥å£® â†’ æˆç†Ÿ*

### å®Œæˆæ—¶çš„é—ªå…‰ç‰¹æ•ˆ
![Sparkle Effect](src/ming_drlms_gui/assets/images/progress/sparkle_effect_demo.png)

*å®Œæˆæ—¶æ˜¾ç¤ºçš„ç²¾çµå›¾åŠ¨ç”»*

## ðŸŽ¯ ä½¿ç”¨è¯´æ˜Ž

1. **å¯åŠ¨æœåŠ¡å™¨**: åœ¨ç»ˆç«¯ä¸­è¿è¡Œ `./log_collector_server`
2. **å¯åŠ¨GUI**: è¿è¡Œ `flet run src/ming_drlms_gui/app.py`
3. **è¿žæŽ¥æœåŠ¡å™¨**: è¾“å…¥ä¸»æœºã€ç«¯å£ã€ç”¨æˆ·åå’Œå¯†ç 
4. **æ–‡ä»¶æ“ä½œ**:
   - ç‚¹å‡»"åˆ·æ–°"æŸ¥çœ‹æœåŠ¡å™¨æ–‡ä»¶
   - é€‰æ‹©æ–‡ä»¶åŽç‚¹å‡»"ä¸‹è½½"
   - ç‚¹å‡»"ä¸Šä¼ "é€‰æ‹©æœ¬åœ°æ–‡ä»¶
5. **è§‚å¯Ÿè¿›åº¦**: äº«å—ç¾Žè§‚çš„å‘èŠ½è¿›åº¦æ¡å’Œé—ªå…‰ç‰¹æ•ˆï¼

## ðŸ† é‡Œç¨‹ç¢‘å®Œæˆæƒ…å†µ

- âœ… **M1**: åŸºç¡€æ¡†æž¶ä¸Žæ ¸å¿ƒè¿žæŽ¥
- âœ… **M2**: å®Œæ•´æ–‡ä»¶æ“ä½œï¼ˆåˆ—è¡¨ã€ä¸Šä¼ ã€ä¸‹è½½ï¼‰
  - ðŸŒ± å‘èŠ½è¿›åº¦æ¡ï¼ˆåƒç´ è‰ºæœ¯é£Žæ ¼ï¼‰
  - âœ¨ é—ªå…‰ç‰¹æ•ˆåŠ¨ç”»
  - ðŸ“± å“åº”å¼ç•Œé¢è®¾è®¡
  - ðŸ§¹ ä»£ç æ¸…ç†å’Œæ–‡æ¡£å®Œå–„

---

*ä½¿ç”¨åƒç´ è‰ºæœ¯è¥é€ ç”°å›­è¯—æ„çš„æ–‡ä»¶ä¼ è¾“ä½“éªŒ ðŸŒ±âœ¨*
